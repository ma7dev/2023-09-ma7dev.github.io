<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="[Project] Travelling salesman problem" /><meta name="author" content="Mazen Alotaibi" /><meta property="og:locale" content="en" /><meta name="description" content="Description" /><meta property="og:description" content="Description" /><link rel="canonical" href="https://ma7.dev/posts/tsp/" /><meta property="og:url" content="https://ma7.dev/posts/tsp/" /><meta property="og:site_name" content="Mazen" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-03-15T00:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Project] Travelling salesman problem" /><meta name="twitter:site" content="@ma7dev" /><meta name="twitter:creator" content="@Mazen Alotaibi" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Mazen Alotaibi"},"dateModified":"2022-06-29T04:45:35-07:00","datePublished":"2019-03-15T00:00:00-07:00","description":"Description","headline":"[Project] Travelling salesman problem","mainEntityOfPage":{"@type":"WebPage","@id":"https://ma7.dev/posts/tsp/"},"url":"https://ma7.dev/posts/tsp/"}</script><title>[Project] Travelling salesman problem | Mazen</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Mazen"><meta name="application-name" content="Mazen"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"> <script src="https://cdn.jsdelivr.net/combine/npm/katex@0.15.3/dist/katex.min.js,npm/pseudocode@latest/build/pseudocode.min.js,gh/sbstjn/timesheet.js@master/dist/timesheet.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2440352_86vrobdp9vu.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2451185_tgvgeuen2lh.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@5.2/distr/fira_code.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sbstjn/timesheet.js@master/dist/timesheet.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /avatar.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Mazen</a></div><div class="site-subtitle font-italic">thinking out loud</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="iconfont icon-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="iconfont icon-qzone ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="iconfont icon-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="iconfont icon-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="iconfont icon-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="bi bi-person-lines-fill ml-xl-3 mr-xl-3 unloaded"></i> <span>REACH OUT</span> </a><li class="nav-item"> <a href="/lists/" class="nav-link"> <i class="bi bi-list-columns-reverse ml-xl-3 mr-xl-3 unloaded"></i> <span>LISTS</span> </a><li class="nav-item"> <a href="/now/" class="nav-link"> <i class="bi bi-cone-striped ml-xl-3 mr-xl-3 unloaded"></i> <span>NOW</span> </a><li class="nav-item"> <a href="/setup/" class="nav-link"> <i class="bi bi-display ml-xl-3 mr-xl-3 unloaded"></i> <span>SETUP</span> </a><li class="nav-item"> <a href="/stack/" class="nav-link"> <i class="bi bi-stack ml-xl-3 mr-xl-3 unloaded"></i> <span>STACK</span> </a><li class="nav-item"> <a href="/subdomains/" class="nav-link"> <i class="iconfont icon-buywebhostingstep1domain ml-xl-3 mr-xl-3 unloaded"></i> <span>SUBDOMAINS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="iconfont icon-adjust1"></i> </button> <span class="icon-border"><br></span> <a href="https://twitter.com/ma7dev" aria-label="twitter" > <i class="iconfont icon-twitter"></i> </a> <a href="https://github.com/ma7dev" aria-label="github" target="_blank" rel="noopener"> <i class="iconfont icon-github"></i> </a> <a href="https://linkedin.com/in/ma7dev" aria-label="linkedin" target="_blank" rel="noopener"> <i><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' preserveAspectRatio='xMidYMid meet' viewBox='0 0 24 24' style="margin-bottom: 5px"><path fill='currentColor' d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/> </svg> </i> </a> <a href="https://twitch.tv/ma7dev" aria-label="twitch" target="_blank" rel="noopener"> <i><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' preserveAspectRatio='xMidYMid meet' viewBox='0 0 24 24' style="margin-bottom: 5px"><path d="M2.149 0l-1.612 4.119v16.836h5.731v3.045h3.224l3.045-3.045h4.657l6.269-6.269v-14.686h-21.314zm19.164 13.612l-3.582 3.582h-5.731l-3.045 3.045v-3.045h-4.836v-15.045h17.194v11.463zm-3.582-7.343v6.262h-2.149v-6.262h2.149zm-5.731 0v6.262h-2.149v-6.262h2.149z" fill="currentColor"/> </svg> </i> </a> <a href="https://youtube.com/@ma7dev" aria-label="youtube" target="_blank" rel="noopener"> <i><svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' preserveAspectRatio='xMidYMid meet' viewBox='0 0 24 24' style="margin-bottom: 5px"><path fill="currentColor" d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/> </svg> </i> </a> <a href=" javascript:location.href = 'mailto:' + ['sudomaze','gmail.com'].join('@')" aria-label="email" > <i class="iconfont icon-mail"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="iconfont icon-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[Project] Travelling salesman problem</span> </span> <i id="sidebar-trigger" class="iconfont icon-bars"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="iconfont icon-search"></i> <span id="search-wrapper" class="align-items-center"> <i class="iconfont icon-search"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Project] Travelling salesman problem</h1><div class="post-meta text-muted"><div> By <em> <a href="https://ma7.dev/">Mazen Alotaibi</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1552633200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2019-03-15 </em> </span> <span> Updated <em class="timeago" data-ts="1656503135" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-29 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1986 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h2 id="description"><span class="mr-2">Description</span><a href="#description" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2></h2><p>This is a final report for analysis of solving the travelling salesman problem using multiple algorithms and the analysis of those algorithms.</p><h2 id="algorithms-that-solve-tsp"><span class="mr-2">Algorithms that Solve TSP</span><a href="#algorithms-that-solve-tsp" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2></h2><h3 id="brute-force-search-naive-algorithm"><span class="mr-2">Brute Force Search (Naive Algorithm)</span><a href="#brute-force-search-naive-algorithm" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3></h3><h4 id="run-time-analysis"><span class="mr-2">Run-time Analysis</span><a href="#run-time-analysis" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4>\[O(n!)\]<h4 id="pseudo-code"><span class="mr-2">Pseudo-code</span><a href="#pseudo-code" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><pre id="read-1" style="display:none;">
    
\begin{algorithm}
\caption{Brute Force Search}
\begin{algorithmic}
\Procedure{BF}{$r$, $cititiesNotInRoute[1...n]$}
    \If {$citiesNotInRoute.length != 0$}
        \For{$i$ \textbf{from} $0$ \textbf{to} $citiesNotInRoute.length$}
            \State $cityRemoved = popFront(cititiesNotInRoute)$
            \State $newRoute = r$
            \State $push(newRoute, cityRemoved)$
            \State $BF(newRoute, cititiesNotInRoute)$
            \State $push(cititiesNotInRoute, cityRemoved)$
        \EndFor
    \EndIf
    \If {$skip == true$}
        \State $print(r)$
    \EndIf
\EndProcedure
\end{algorithmic}
\end{algorithm}

</pre><p><span class="markdown-pseudocode" id="goal-1"></span> <script type="text/javascript"> var code = document.getElementById("read-1").textContent; var parentEl = document.getElementById("goal-1"); var options = { lineNumber: true }; pseudocode.render(code, parentEl, options); </script></p><h4 id="description-1"><span class="mr-2">Description</span><a href="#description-1" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><p>This algorithm checks every vertices and every edges. Therefore, it is clear it will find the solution. The running time is $O(n!)$ because the starting vertex has $n-1$ edges to choose, next one has $n-2$ edges to choose, $… n-1$ vertex has $1$ edge to choose. Therefore, by multiply every edges, Icould get the running time which is $(n-1)!$. Since it is clear $(n-1)! &lt; n!$, I can say the running time is $O(n!)$.I choose this algorithm because it is the basic way to think about how to solve this problem. This algorithm is easy to make, but it is really slow. Therefore, this algorithm makes us to realize how important the algorithm is. Better algorithm makes way more faster program.</p><h3 id="held-karp-algorithm-dynamic-algorithm"><span class="mr-2">Held-Karp Algorithm (Dynamic Algorithm)</span><a href="#held-karp-algorithm-dynamic-algorithm" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3></h3><h4 id="run-time-analysis-1"><span class="mr-2">Run-time Analysis</span><a href="#run-time-analysis-1" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4>\[O(n^{2} \times 2^{n})\]<h4 id="pseudo-code-1"><span class="mr-2">Pseudo-code</span><a href="#pseudo-code-1" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><pre id="read-2" style="display:none;">
    
\begin{algorithm}
\caption{Held-Karp Algorithm}
\begin{algorithmic}
\Procedure{HK}{$G$, $n$}
    \For{$k$ \textbf{from} $2$ \textbf{to} $n$}
        \State $C(\{k\},k)=d_{1, k}$
    \EndFor
    \For{$s$ \textbf{from} $2$ \textbf{to} $n-1$}
        \For{$all\ S \subseteq \{2,...,n\}, |S|=s$}
            \For{$all\ k \in S$}
                \State $\{C(S,k)=min_{m \neq k, m \in S}[C(S-\{k\},m)+d_{m, k}]\}$
            \EndFor
        \EndFor
    \EndFor
    \State $opt=min_{k \neq 1}[C(\{2, 3, ..., n\}, k) + d_{k, 1}]$
    \State \textbf{return} $opt$
\EndProcedure
\end{algorithmic}
\end{algorithm}

</pre><p><span class="markdown-pseudocode" id="goal-2"></span> <script type="text/javascript"> var code = document.getElementById("read-2").textContent; var parentEl = document.getElementById("goal-2"); var options = { lineNumber: true }; pseudocode.render(code, parentEl, options); </script></p><h4 id="description-2"><span class="mr-2">Description</span><a href="#description-2" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><p>This algorithm use dynamic algorithm to solve the problem. It first gets the distance between two vertices and save it to array. It is $O(n)$ steps. The next part is to find the minimum distance with small set of vertices. The for loop, for $s$ from $2$ to $n-1$ and for all $S$ in ${2, …, n}$, $|S| = s$, is defining small set of vertices. The next for loop is the part that getting the minimum distance from the set of vertices. Each set has s elements and it has to compare with s different minimum candidates, it has $O(s^{2})$ running time. The first two loop, which define the set S, has running time with $SUM_{i}=2^{n-1} (C(n-1,i))$ because there are $C(n-1, i)$ number of combination for defining set with $i$ elements, and since it is from $2$ to $n-1$, it makes $SUM_{i}=2^{n-1} (C(n-1,i)) \times n^{2})$. Hence, it could be rewrite as $n^{2} \times SUM_{i}=2^{n-1} (C(n-1,i))$ $&lt;= n^{2} \times 2^{n-1} = \frac{1}{2} \times n^{2} \times 2^{n}$ $= O(2^{n} \times n^{2}$). I choose this algorithm because I learned dynamic programming and this algorithm use that concepts. This algorithm saves data into $C(S, n)$ and use it to find minimum distance. By this skill, this algorithm can find real answer with way more faster than the brute force method. However, it is still slow.</p><h3 id="k-nearest-neighbor-algorithm-approximation-algorithm"><span class="mr-2">K-Nearest Neighbor Algorithm (Approximation Algorithm)</span><a href="#k-nearest-neighbor-algorithm-approximation-algorithm" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3></h3><h4 id="run-time-analysis-2"><span class="mr-2">Run-time Analysis</span><a href="#run-time-analysis-2" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4>\[O(n^{2})\]<h4 id="code"><span class="mr-2">Code</span><a href="#code" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="Copied!"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">Distance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="nf">int</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">((</span><span class="n">math</span><span class="p">.</span><span class="nf">pow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="sh">'</span><span class="s">i</span><span class="sh">'</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="sh">'</span><span class="s">i</span><span class="sh">'</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">pow</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="sh">'</span><span class="s">j</span><span class="sh">'</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="sh">'</span><span class="s">j</span><span class="sh">'</span><span class="p">],</span><span class="mi">2</span><span class="p">)))))</span>

<span class="k">def</span> <span class="nf">KNN</span><span class="p">(</span><span class="n">cities</span><span class="p">,</span> <span class="n">inFile</span><span class="p">):</span>
    <span class="n">matrix</span> <span class="o">=</span> <span class="p">[[</span><span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">cities</span><span class="p">))]</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">cities</span><span class="p">))]</span>
    <span class="n">minLength</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">maxsize</span>
    <span class="n">order</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">cities</span><span class="p">)):</span>
        <span class="n">allCities</span> <span class="o">=</span> <span class="p">[</span><span class="n">z</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">cities</span><span class="p">]</span>
        <span class="n">route</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">route</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">allCities</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">])</span>
        <span class="n">allCities</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">allCities</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="nf">len</span><span class="p">(</span><span class="n">allCities</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
            <span class="n">minDistance</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">maxsize</span>
            <span class="n">minCity</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">allCities</span><span class="p">)):</span>
                <span class="n">currentDistance</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">current</span><span class="p">[</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]][</span><span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]]</span>
                <span class="k">if</span> <span class="n">currentDistance</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">currentDistance</span> <span class="o">=</span> <span class="nc">Distance</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">])</span>
                    <span class="n">matrix</span><span class="p">[</span><span class="n">current</span><span class="p">[</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]][</span><span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
                    <span class="n">matrix</span><span class="p">[</span><span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]][</span><span class="n">current</span><span class="p">[</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
                <span class="k">if</span> <span class="n">currentDistance</span> <span class="o">&lt;</span> <span class="n">minDistance</span><span class="p">:</span>
                    <span class="n">minDistance</span> <span class="o">=</span> <span class="n">currentDistance</span>
                    <span class="n">minCity</span> <span class="o">=</span> <span class="n">allCities</span><span class="p">[</span><span class="n">y</span><span class="p">]</span>
            <span class="n">route</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">minCity</span><span class="p">[</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">])</span>
            <span class="n">allCities</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">minCity</span><span class="p">)</span>
            <span class="n">length</span> <span class="o">+=</span> <span class="n">minDistance</span>
        <span class="n">currentDistance</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]][</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">currentDistance</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">currentDistance</span> <span class="o">=</span> <span class="nc">Distance</span><span class="p">(</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
            <span class="n">matrix</span><span class="p">[</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]][</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
            <span class="n">matrix</span><span class="p">[</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">route</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]][</span><span class="n">cities</span><span class="p">[</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="sh">'</span><span class="s">city</span><span class="sh">'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">currentDistance</span>
        <span class="n">length</span> <span class="o">+=</span> <span class="n">currentDistance</span>
        <span class="k">if</span> <span class="n">length</span> <span class="o">&lt;</span> <span class="n">minLength</span><span class="p">:</span>
            <span class="n">minLength</span> <span class="o">=</span> <span class="n">length</span>
            <span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">route</span><span class="p">]</span>
            <span class="nc">WriteFileKNN</span><span class="p">(</span><span class="n">inFile</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">minLength</span><span class="p">)</span>
</pre></table></code></div></div><h4 id="description-3"><span class="mr-2">Description</span><a href="#description-3" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><p>This algorithm is greedy algorithm that finds the vertex with minimum weight and choose it. Therefore, the first vertex has to check $n-1$ edges and choose the minimum. Second one has to check n-2 edges and choose the minimum. The $n-1$ vertex choose $1$ edges. Hence, the running time is $SUM\ 1\ TO\ N-1\ = (N-1)(N-2)/2 = O(N^2)$. I choose this algorithm because I found that this is the fastest. This algorithm is greedy algorithm that choose only the nearest vertex from the start vertex, and keep finding the nearest vertex from the chosen one. Since it is just checking the nearest, there is possibility to find the wrong answer. However, I found that this algorithm finds reasonable path, which means not huge different than true answer, and the power of this algorithm is this is super fast. It is only $O(n^2)$. Therefore, this algorithm will be good choice when I need the result really quickly, and it is ok to have small error. I used a nearest neighbor algorithm written in Java to get inspiration for my Python program, found here: http://www.sanfoundry.com/java-program-implement-traveling-salesman-problem-using-nearest-neighbour-algorithm/. The program searches for the most optimal nearest neighbor route by using a brute-force wrapper for-loop to select each city as the starting point. The program is able to analyze each city for the smaller list sizes, but for the larger ones it cannot process each city within 5 minutes, so that is why I have a section of code in the main section of the program to end the algorithm after 5 minutes. Each time the algorithm finds a new shorter route it is written to the output file, so this ensures that I am still able to have a valid result at the very beginning, well before the 5 minute time constraint is over.</p><h3 id="genetic-algorithm-approximation-algorithm"><span class="mr-2">Genetic Algorithm (Approximation Algorithm)</span><a href="#genetic-algorithm-approximation-algorithm" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3></h3><h4 id="run-time-analysis-3"><span class="mr-2">Run-time Analysis</span><a href="#run-time-analysis-3" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4>\[O(T \times n_{0} \times n^{2})\]<p>where $T$ is the number of outer iteration, $n_{0}$ is the initial size of the population, and $n$ is the number of cities.</p><h4 id="code-1"><span class="mr-2">Code</span><a href="#code-1" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="Copied!"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">City</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

    <span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
        <span class="c1"># xDis = self.x - city.x
</span>        <span class="c1"># yDis = self.y - city.y
</span>        <span class="c1"># distance = np.sqrt((xDis ** 2) + (yDis ** 2))
</span>        <span class="k">return</span> <span class="nf">int</span><span class="p">(</span><span class="nf">round</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">((</span><span class="n">math</span><span class="p">.</span><span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">city</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="p">(</span><span class="n">math</span><span class="p">.</span><span class="nf">pow</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">city</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="mi">2</span><span class="p">)))))</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sh">"</span><span class="s">(</span><span class="sh">"</span> <span class="o">+</span> <span class="nf">str</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="sh">"</span><span class="s">,</span><span class="sh">"</span> <span class="o">+</span> <span class="nf">str</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="sh">"</span><span class="s">)</span><span class="sh">"</span>

<span class="k">class</span> <span class="nc">Fitness</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">route</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">route</span> <span class="o">=</span> <span class="n">route</span>
        <span class="n">self</span><span class="p">.</span><span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">fitness</span><span class="o">=</span> <span class="mf">0.0</span>

    <span class="k">def</span> <span class="nf">routeDistance</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">distance</span> <span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">pathDistance</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">route</span><span class="p">)):</span>
                <span class="n">fromCity</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">route</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">toCity</span> <span class="o">=</span> <span class="bp">None</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">route</span><span class="p">):</span>
                    <span class="n">toCity</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">route</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">toCity</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">route</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">pathDistance</span> <span class="o">+=</span> <span class="n">fromCity</span><span class="p">.</span><span class="nf">distance</span><span class="p">(</span><span class="n">toCity</span><span class="p">)</span>
            <span class="n">self</span><span class="p">.</span><span class="n">distance</span> <span class="o">=</span> <span class="n">pathDistance</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">distance</span>

    <span class="k">def</span> <span class="nf">routeFitness</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">fitness</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">fitness</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="nf">float</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="nf">routeDistance</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">fitness</span>
<span class="k">def</span> <span class="nf">createRoute</span><span class="p">(</span><span class="n">cityList</span><span class="p">):</span>
    <span class="n">route</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">sample</span><span class="p">(</span><span class="n">cityList</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">cityList</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">route</span>
<span class="k">def</span> <span class="nf">initialPopulation</span><span class="p">(</span><span class="n">popSize</span><span class="p">,</span> <span class="n">cityList</span><span class="p">):</span>
    <span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">popSize</span><span class="p">):</span>
        <span class="n">population</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nf">createRoute</span><span class="p">(</span><span class="n">cityList</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">population</span>
<span class="k">def</span> <span class="nf">rankRoutes</span><span class="p">(</span><span class="n">population</span><span class="p">):</span>
    <span class="n">fitnessResults</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nf">len</span><span class="p">(</span><span class="n">population</span><span class="p">)):</span>
        <span class="n">fitnessResults</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nc">Fitness</span><span class="p">(</span><span class="n">population</span><span class="p">[</span><span class="n">i</span><span class="p">]).</span><span class="nf">routeFitness</span><span class="p">()</span>
    <span class="k">return</span> <span class="nf">sorted</span><span class="p">(</span><span class="n">fitnessResults</span><span class="p">.</span><span class="nf">items</span><span class="p">(),</span> <span class="n">key</span> <span class="o">=</span> <span class="n">operator</span><span class="p">.</span><span class="nf">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">reverse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">selection</span><span class="p">(</span><span class="n">popRanked</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">):</span>
    <span class="n">selectionResults</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">popRanked</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sh">"</span><span class="s">Index</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">Fitness</span><span class="sh">"</span><span class="p">])</span>
    <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">cum_sum</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">Fitness</span><span class="p">.</span><span class="nf">cumsum</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">cum_perc</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="n">df</span><span class="p">.</span><span class="n">cum_sum</span><span class="o">/</span><span class="n">df</span><span class="p">.</span><span class="n">Fitness</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">):</span>
        <span class="n">selectionResults</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">popRanked</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">popRanked</span><span class="p">)</span> <span class="o">-</span> <span class="n">eliteSize</span><span class="p">):</span>
        <span class="n">pick</span> <span class="o">=</span> <span class="mi">100</span><span class="o">*</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">popRanked</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">pick</span> <span class="o">&lt;=</span> <span class="n">df</span><span class="p">.</span><span class="n">iat</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">3</span><span class="p">]:</span>
                <span class="n">selectionResults</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">popRanked</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">selectionResults</span>
<span class="k">def</span> <span class="nf">matingPool</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">selectionResults</span><span class="p">):</span>
    <span class="n">matingpool</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">selectionResults</span><span class="p">)):</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">selectionResults</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">matingpool</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">population</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">matingpool</span>
<span class="k">def</span> <span class="nf">breed</span><span class="p">(</span><span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span><span class="p">):</span>
    <span class="n">child</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">childP1</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">childP2</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">geneA</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">parent1</span><span class="p">))</span>
    <span class="n">geneB</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">parent1</span><span class="p">))</span>

    <span class="n">startGene</span> <span class="o">=</span> <span class="nf">min</span><span class="p">(</span><span class="n">geneA</span><span class="p">,</span> <span class="n">geneB</span><span class="p">)</span>
    <span class="n">endGene</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">geneA</span><span class="p">,</span> <span class="n">geneB</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">startGene</span><span class="p">,</span> <span class="n">endGene</span><span class="p">):</span>
        <span class="n">childP1</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">parent1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="n">childP2</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">parent2</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">childP1</span><span class="p">]</span>

    <span class="n">child</span> <span class="o">=</span> <span class="n">childP1</span> <span class="o">+</span> <span class="n">childP2</span>
    <span class="k">return</span> <span class="n">child</span>
<span class="k">def</span> <span class="nf">breedPopulation</span><span class="p">(</span><span class="n">matingpool</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">):</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">length</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">matingpool</span><span class="p">)</span> <span class="o">-</span> <span class="n">eliteSize</span>
    <span class="n">pool</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">sample</span><span class="p">(</span><span class="n">matingpool</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">matingpool</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">eliteSize</span><span class="p">):</span>
        <span class="n">children</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">matingpool</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
        <span class="n">child</span> <span class="o">=</span> <span class="nf">breed</span><span class="p">(</span><span class="n">pool</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pool</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">matingpool</span><span class="p">)</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">children</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">children</span>
<span class="k">def</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">swapped</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">individual</span><span class="p">)):</span>
        <span class="nf">if</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">mutationRate</span><span class="p">):</span>
            <span class="n">swapWith</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">individual</span><span class="p">))</span>

            <span class="n">city1</span> <span class="o">=</span> <span class="n">individual</span><span class="p">[</span><span class="n">swapped</span><span class="p">]</span>
            <span class="n">city2</span> <span class="o">=</span> <span class="n">individual</span><span class="p">[</span><span class="n">swapWith</span><span class="p">]</span>

            <span class="n">individual</span><span class="p">[</span><span class="n">swapped</span><span class="p">]</span> <span class="o">=</span> <span class="n">city2</span>
            <span class="n">individual</span><span class="p">[</span><span class="n">swapWith</span><span class="p">]</span> <span class="o">=</span> <span class="n">city1</span>
    <span class="k">return</span> <span class="n">individual</span>
<span class="k">def</span> <span class="nf">mutatePopulation</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">):</span>
    <span class="n">mutatedPop</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">population</span><span class="p">)):</span>
        <span class="n">mutatedInd</span> <span class="o">=</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">population</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">mutationRate</span><span class="p">)</span>
        <span class="n">mutatedPop</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">mutatedInd</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mutatedPop</span>
<span class="k">def</span> <span class="nf">nextGeneration</span><span class="p">(</span><span class="n">currentGen</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">):</span>
    <span class="n">popRanked</span> <span class="o">=</span> <span class="nf">rankRoutes</span><span class="p">(</span><span class="n">currentGen</span><span class="p">)</span>
    <span class="n">selectionResults</span> <span class="o">=</span> <span class="nf">selection</span><span class="p">(</span><span class="n">popRanked</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">)</span>
    <span class="n">matingpool</span> <span class="o">=</span> <span class="nf">matingPool</span><span class="p">(</span><span class="n">currentGen</span><span class="p">,</span> <span class="n">selectionResults</span><span class="p">)</span>
    <span class="n">children</span> <span class="o">=</span> <span class="nf">breedPopulation</span><span class="p">(</span><span class="n">matingpool</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">)</span>
    <span class="n">nextGeneration</span> <span class="o">=</span> <span class="nf">mutatePopulation</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">nextGeneration</span>

<span class="k">def</span> <span class="nf">GA</span><span class="p">(</span><span class="n">inFile</span><span class="p">,</span> <span class="n">population</span><span class="p">,</span> <span class="n">popSize</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">,</span> <span class="n">generations</span><span class="p">):</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="nf">initialPopulation</span><span class="p">(</span><span class="n">popSize</span><span class="p">,</span> <span class="n">population</span><span class="p">)</span>
    <span class="c1"># print("Initial distance: " + str(1 / rankRoutes(pop)[0][1]))
</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">generations</span><span class="p">):</span>
        <span class="n">pop</span> <span class="o">=</span> <span class="nf">nextGeneration</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="n">eliteSize</span><span class="p">,</span> <span class="n">mutationRate</span><span class="p">)</span>

    <span class="c1"># print("Final distance: " + str(1 / rankRoutes(pop)[0][1]))
</span>    <span class="n">bestRouteIndex</span> <span class="o">=</span> <span class="nf">rankRoutes</span><span class="p">(</span><span class="n">pop</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">bestRoute</span> <span class="o">=</span> <span class="n">pop</span><span class="p">[</span><span class="n">bestRouteIndex</span><span class="p">]</span>
    <span class="nc">WriteFileGA</span><span class="p">(</span><span class="n">inFile</span><span class="p">,</span> <span class="n">bestRoute</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="nf">rankRoutes</span><span class="p">(</span><span class="n">pop</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</pre></table></code></div></div><h4 id="description-4"><span class="mr-2">Description</span><a href="#description-4" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4></h4><p>The genetic algorithm seems to solve different kind of problems pretty well, such as error detection, so I have thought to give it a try to solve the TSP. The implementation of the algorithm is extremely hard compared to KNN, so I need to refer to some online resource to build the algorithm on Python, the resource is found: https://towardsdatascience.com/evolution-of-a-salesman-a-complete-genetic-algorithm-tutorial-for-python-6fe5d2b3ca35. The algorithm starts with a population, a set of solutions, and every population another new population is generated to give better solutions, so as the depth of the population increases the algorithm should give better solutions in theory.</p><h2 id="testing"><span class="mr-2">Testing</span><a href="#testing" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2></h2><p>In order to test that my program was actually producing valid results we used the supplied tsp-verifier.py program on each of my output routes. Each result was found to be valid.</p><p>It seems that the K-Nearest Neighbor (KNN) algorithm give better results in matter of approximation of path took and speed compared to Genetic Algorithm (GA) in all cases when time is the limitation. However, as the complexity of the graph increases and there isn’t no time limits, the Genetic Algorithm can finish faster with higher approximation to the optimal path when the threshold to stop is set, compared to the KNN which takes almost 2 times longer on average to reach the same optimal path results.</p><p>My best results when testing where Test 1, 2, 4, and 5 when using KNN, and GA failed in most cases besides Test 6 and 7, which gave the same results as KNN at the same time.</p><p>Please view the next page to look into all of the results.</p><div class="table-wrapper"><table class="stand-alone-table" id="table-1"><thead><tr><th> <th>Optimal path length<th>Predicted path length<th>Ratio<tbody><tr><td>KNN<td>108159<td>130921<td>1.21<tr><td>GA<td>108159<td>337541<td>3.12</table></div><script type="text/javascript"> var table = document.getElementById("table-1").createCaption(); table.innerHTML = "<strong>Table 1:</strong> Example 1"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-2"><thead><tr><th> <th>Optimal path length<th>Predicted path length<th>Ratio<tbody><tr><td>KNN<td>2579<td>2975<td>1.15<tr><td>GA<td>2579<td>27639<td>10.71</table></div><script type="text/javascript"> var table = document.getElementById("table-2").createCaption(); table.innerHTML = "<strong>Table 2:</strong> Example 2"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-3"><thead><tr><th> <th>Optimal path length<th>Predicted path length<th>Ratio<tbody><tr><td>KNN<td>1573084<td>1936941<td>1.23<tr><td>GA<td>1573084<td>1934200<td>1.22</table></div><script type="text/javascript"> var table = document.getElementById("table-3").createCaption(); table.innerHTML = "<strong>Table 3:</strong> Example 3"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-4"><thead><tr><th> <th>Predicted path length<th>Time took<tbody><tr><td>KNN<td>5911<td>0.014127969741821289<tr><td>GA<td>10488<td>14.512681007385254}</table></div><script type="text/javascript"> var table = document.getElementById("table-4").createCaption(); table.innerHTML = "<strong>Table 4:</strong> Test 1"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-5"><thead><tr><th> <th>Predicted path length<th>Time took<tbody><tr><td>KNN<td>8011<td>0.11811113357543945<tr><td>GA<td>32837<td>18.30189299583435</table></div><script type="text/javascript"> var table = document.getElementById("table-5").createCaption(); table.innerHTML = "<strong>Table 5:</strong> Test 2"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-6"><thead><tr><th> <th>Predicted path length<th>Time took<tbody><tr><td>KNN<td>14826<td>1.3867180347442627<tr><td>GA<td>103387<td>34.44625997543335</table></div><script type="text/javascript"> var table = document.getElementById("table-6").createCaption(); table.innerHTML = "<strong>Table 6:</strong> Test 3"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-7"><thead><tr><th> <th>Predicted path length<th>Time took<tbody><tr><td>KNN<td>19711<td>12.897594213485718<tr><td>GA<td>220727<td>73.32604813575745</table></div><script type="text/javascript"> var table = document.getElementById("table-7").createCaption(); table.innerHTML = "<strong>Table 7:</strong> Test 4"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-8"><thead><tr><th> <th>Predicted path length<th>Time took<tbody><tr><td>KNN<td>27128<td>123.83275985717773<tr><td>GA<td>465770<td>200.42861986160278</table></div><script type="text/javascript"> var table = document.getElementById("table-8").createCaption(); table.innerHTML = "<strong>Table 8:</strong> Test 5"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-9"><thead><tr><th> <th>Predicted path length<th>Time took<tbody><tr><td>KNN<td>39834<td>299.0716700553894<tr><td>GA<td>39834<td>299.00313663482666</table></div><script type="text/javascript"> var table = document.getElementById("table-9").createCaption(); table.innerHTML = "<strong>Table 9:</strong> Test 6"; table.style = "text-align:center" </script><div class="table-wrapper"><table class="stand-alone-table" id="table-10"><thead><tr><th> <th>Predicted path length<th>Time took<tbody><tr><td>KNN<td>62110<td>299.6045079231262<tr><td>GA<td>62110<td>299.00823521614075</table></div><script type="text/javascript"> var table = document.getElementById("table-10").createCaption(); table.innerHTML = "<strong>Table 10:</strong> Test 7"; table.style = "text-align:center" </script></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="iconfont icon-FolderOpen-1"></i> <a href='/categories/projects/'>Projects</a>, <a href='/categories/algorithms/'>Algorithms</a></div><div class="post-tags"> <i class="iconfont icon-tag"></i> <a href="/tags/travelling-salesman-problem/" class="post-tag no-text-decoration" >travelling-salesman-problem</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5BProject%5D+Travelling+salesman+problem+-+Mazen&url=https%3A%2F%2Fma7.dev%2Fposts%2Ftsp%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="iconfont icon-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5BProject%5D+Travelling+salesman+problem+-+Mazen&u=https%3A%2F%2Fma7.dev%2Fposts%2Ftsp%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="iconfont icon-facebook"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fma7.dev%2Fposts%2Ftsp%2F&text=%5BProject%5D+Travelling+salesman+problem+-+Mazen" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="iconfont icon-telegram"></i> </a> <i id="copy-link" class="iconfont icon-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/exploring-robot/">[Project] Exploring Robot</a><li><a href="/posts/weekly-logs/">Weekly logs on Notion</a><li><a href="/posts/writing-notes/">How I write my notes [Part 1]</a><li><a href="/posts/linux-vs-freebsd-vs-windows/">Linux vs. FreeBSD vs. Windows</a><li><a href="/posts/tsp/">[Project] Travelling salesman problem</a></ul></div><div id="access-links"><div class="panel-heading">External Links</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="http://slow-science.org/" target="_blank"> <img src="https://img.shields.io/badge/link-slow_science-red.svg" alt="slow-science.org" /> </a><li><a href="https://github.com/ma7dev/ma7dev.github.io" target="_blank"> <i class="iconfont icon-nihil-github"></i> &nbsp;Github repository for this blog </a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/exploring-robot/"><div class="card-body"> <em class="timeago small" data-ts="1544083200" > 2018-12-06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Project] Exploring Robot</h3><div class="text-muted small"><p> Instructions Code A* Download world.csvPreview the document Write a program to create a 4-connected graph and run an A* search from vertex (0,0) to vertex (19,19) across the obstacle map pr...</p></div></div></a></div><div class="card"> <a href="/posts/weekly-logs/"><div class="card-body"> <em class="timeago small" data-ts="1671868800" > 2022-12-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Weekly logs on Notion</h3><div class="text-muted small"><p> For the last 6 years, I have been interested in writing and sharing my thoughts. I have written tens of drafts for articles that I think are useful, worth reading, and interesting to others, or at ...</p></div></div></a></div><div class="card"> <a href="/posts/writing-notes/"><div class="card-body"> <em class="timeago small" data-ts="1659337200" > 2022-08-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How I write my notes [Part 1]</h3><div class="text-muted small"><p> In this post, I will share the tools that I use, my general thoughts about the setup, and an example of how I would go about writing a note. Here are the tools that I use to have an active and pro...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/linux-vs-freebsd-vs-windows/" class="btn btn-outline-primary" prompt="Older"><p>Linux vs. FreeBSD vs. Windows</p></a> <a href="/posts/how-i-learn/" class="btn btn-outline-primary" prompt="Newer"><p>How I Learn</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://ma7.dev/posts/tsp/'; this.page.identifier = '/posts/tsp/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://ma7.dev/">Mazen Alotaibi</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme (fork: <a href="https://github.com/nichtshsu/nichtshsu.github.io" target="_blank" rel="noopener">nichtshsu</a>).</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/notion/">notion</a> <a class="post-tag" href="/tags/obsidian/">obsidian</a> <a class="post-tag" href="/tags/freebsd/">freebsd</a> <a class="post-tag" href="/tags/insync/">insync</a> <a class="post-tag" href="/tags/learn/">learn</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/mathpix/">mathpix</a> <a class="post-tag" href="/tags/okular/">okular</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/robots/">robots</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="iconfont icon-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="iconfont icon-folder"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="iconfont icon-tag"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-RK9LRGVP0T"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-RK9LRGVP0T'); }); </script>
